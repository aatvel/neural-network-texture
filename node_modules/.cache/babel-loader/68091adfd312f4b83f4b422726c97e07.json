{"ast":null,"code":"import React from 'react';\nimport { createStore } from 'redux';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Image } from 'openai';\nimport thunk from 'redux-thunk';\nimport { applyMiddleware } from \"redux\";\nimport { Configuration, OpenAIApi } from \"openai\";\nconst IMAGE_GENERATED = 'IMAGE_GENERATED';\nconst initialState = {\n  imageUrl: ''\n};\n\nfunction reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case IMAGE_GENERATED:\n      return { ...state,\n        imageUrl: action.imageUrl\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(reducer, applyMiddleware(thunk));\nconst configuration = new Configuration({\n  apiKey: \"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\"\n});\nconst openai = new OpenAIApi(configuration);\nexport function generatePicture(data) {\n  console.log(data);\n  return async dispatch => {\n    // const image = await Image.create(data);\n    console.log(data);\n    const res = await openai.createImage({\n      prompt: data,\n      n: 1,\n      size: \"512x512\"\n    });\n    dispatch({\n      type: IMAGE_GENERATED,\n      imageUrl: image.url\n    });\n    console.log(imageUrl);\n  };\n}","map":{"version":3,"names":["React","createStore","useDispatch","useSelector","Image","thunk","applyMiddleware","Configuration","OpenAIApi","IMAGE_GENERATED","initialState","imageUrl","reducer","state","action","type","store","configuration","apiKey","openai","generatePicture","data","console","log","dispatch","res","createImage","prompt","n","size","image","url"],"sources":["C:/Users/Asus/Documents/threejs/miro learning/20.12 neuroweb textures/src/service.js"],"sourcesContent":["import React from 'react';\r\nimport { createStore } from 'redux';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Image } from 'openai';\r\nimport thunk from 'redux-thunk';\r\nimport { applyMiddleware } from \"redux\"\r\nimport { Configuration, OpenAIApi } from \"openai\";\r\n\r\nconst IMAGE_GENERATED = 'IMAGE_GENERATED';\r\n\r\nconst initialState = {\r\n  imageUrl: '',\r\n};\r\n\r\nfunction reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case IMAGE_GENERATED:\r\n      return {\r\n        ...state,\r\n        imageUrl: action.imageUrl,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const store = createStore(reducer, applyMiddleware(thunk));\r\n\r\n\r\nconst configuration = new Configuration({\r\n    apiKey: \"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\",\r\n  });\r\n\r\nconst openai = new OpenAIApi(configuration);\r\nexport function generatePicture(data) {\r\n    console.log(data)\r\n  return async (dispatch) => {\r\n    // const image = await Image.create(data);\r\n    console.log(data)\r\n    const res = await openai.createImage({\r\n        prompt: data,\r\n        n: 1,\r\n        size: \"512x512\",\r\n      });\r\n    dispatch({ type: IMAGE_GENERATED, imageUrl: image.url });\r\n    console.log(imageUrl)\r\n  };\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,KAAT,QAAsB,QAAtB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,eAAT,QAAgC,OAAhC;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,QAAzC;AAEA,MAAMC,eAAe,GAAG,iBAAxB;AAEA,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE;AADS,CAArB;;AAIA,SAASC,OAAT,GAA+C;EAAA,IAA9BC,KAA8B,uEAAtBH,YAAsB;EAAA,IAARI,MAAQ;;EAC7C,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKN,eAAL;MACE,OAAO,EACL,GAAGI,KADE;QAELF,QAAQ,EAAEG,MAAM,CAACH;MAFZ,CAAP;;IAIF;MACE,OAAOE,KAAP;EAPJ;AASD;;AAED,OAAO,MAAMG,KAAK,GAAGf,WAAW,CAACW,OAAD,EAAUN,eAAe,CAACD,KAAD,CAAzB,CAAzB;AAGP,MAAMY,aAAa,GAAG,IAAIV,aAAJ,CAAkB;EACpCW,MAAM,EAAE;AAD4B,CAAlB,CAAtB;AAIA,MAAMC,MAAM,GAAG,IAAIX,SAAJ,CAAcS,aAAd,CAAf;AACA,OAAO,SAASG,eAAT,CAAyBC,IAAzB,EAA+B;EAClCC,OAAO,CAACC,GAAR,CAAYF,IAAZ;EACF,OAAO,MAAOG,QAAP,IAAoB;IACzB;IACAF,OAAO,CAACC,GAAR,CAAYF,IAAZ;IACA,MAAMI,GAAG,GAAG,MAAMN,MAAM,CAACO,WAAP,CAAmB;MACjCC,MAAM,EAAEN,IADyB;MAEjCO,CAAC,EAAE,CAF8B;MAGjCC,IAAI,EAAE;IAH2B,CAAnB,CAAlB;IAKAL,QAAQ,CAAC;MAAET,IAAI,EAAEN,eAAR;MAAyBE,QAAQ,EAAEmB,KAAK,CAACC;IAAzC,CAAD,CAAR;IACAT,OAAO,CAACC,GAAR,CAAYZ,QAAZ;EACD,CAVD;AAWD"},"metadata":{},"sourceType":"module"}